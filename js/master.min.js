(function() {
    function e(e) {
        var t = y,
            n;
        e: {
            n = t.className.split(/\s+/);
            for (var r = 0, i = n.length; r < i; r += 1) {
                if (n[r] === e) {
                    n = !0;
                    break e
                }
            }
            n = !1
        }
        n || (t.className += ("" === t.className ? "" : " ") + e)
    }

    function t(e, t, n) {
        this.b = null != e ? e : null;
        this.c = null != t ? t : null;
        this.e = null != n ? n : null
    }

    function n(e, t) {
        return e.b > t.b || e.b === t.b && e.c > t.c || e.b === t.b && e.c === t.c && e.e > t.e ? 1 : e.b < t.b || e.b === t.b && e.c < t.c || e.b === t.b && e.c === t.c && e.e < t.e ? -1 : 0
    }

    function r(e, t) {
        return 0 === n(e, t) || 1 === n(e, t)
    }

    function i() {
        var e = u.exec(d[1]),
            n = null,
            r = null,
            i = null;
        e && (null !== e[1] && e[1] && (n = parseInt(e[1], 10)), null !== e[2] && e[2] && (r = parseInt(e[2], 10)), null !== e[3] && e[3] && (i = parseInt(e[3], 10)));
        return new t(n, r, i)
    }

    function s() {
        var e = a;
        return 3 === e.a || 7 === e.a || 6 === e.a || 9 === e.a || 8 === e.a || 5 === e.a ? "grayscale" : 1 === e.a && r(e.f, new t(6, 2)) && 1 === e.d ? "grayscale" : "unknown"
    }
    var o = window;
    var u = /^([0-9]+)(?:[\._-]([0-9]+))?(?:[\._-]([0-9]+))?(?:[\._+-]?(.*))?$/;
    var a, f = o.navigator.userAgent,
        l = 0,
        c = new t,
        h = 0,
        p = new t,
        d = null;
    if (d = /(?:iPod|iPad|iPhone).*? OS ([\d_]+)/.exec(f)) {
        h = 3, p = i()
    } else {
        if (d = /(?:BB\d{2}|BlackBerry).*?Version\/([^\s]*)/.exec(f)) {
            h = 9, p = i()
        } else {
            if (d = /Android ([^;)]+)|Android/.exec(f)) {
                h = 5, p = i()
            } else {
                if (d = /Windows Phone(?: OS)? ([^;)]+)/.exec(f)) {
                    h = 8, p = i()
                } else {
                    if (d = /Linux ([^;)]+)|Linux/.exec(f)) {
                        h = 4, p = i()
                    } else {
                        if (d = /OS X ([^;)]+)/.exec(f)) {
                            h = 2, p = i()
                        } else {
                            if (d = /Windows NT ([^;)]+)/.exec(f)) {
                                h = 1, p = i()
                            } else {
                                if (d = /CrOS ([^;)]+)/.exec(f)) {
                                    h = 6, p = i()
                                }
                            }
                        }
                    }
                }
            }
        }
    } if (d = /MSIE ([\d\w\.]+)/.exec(f)) {
        l = 1, c = i()
    } else {
        if (d = /Trident.*rv:([\d\w\.]+)/.exec(f)) {
            l = 1, c = i()
        } else {
            if (d = /OPR\/([\d.]+)/.exec(f)) {
                l = 4, c = i()
            } else {
                if (d = /Opera Mini.*Version\/([\d\.]+)/.exec(f)) {
                    l = 4, c = i()
                } else {
                    if (d = /Opera(?: |.*Version\/|\/)([\d\.]+)/.exec(f)) {
                        l = 4, c = i()
                    } else {
                        if (d = /Firefox\/([\d\w\.]+)|Firefox/.exec(f)) {
                            l = 3, c = i()
                        } else {
                            if (d = /(?:Chrome|CrMo|CriOS)\/([\d\.]+)/.exec(f)) {
                                l = 2, c = i()
                            } else {
                                if (d = /Silk\/([\d\._]+)/.exec(f)) {
                                    l = 7, c = i()
                                } else {
                                    if (5 === h || 9 === h) {
                                        l = 6
                                    } else {
                                        if (d = /Version\/([\d\.\w]+).*Safari/.exec(f)) {
                                            l = 5, c = i()
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }
    }
    a = new function(e, t, n, r) {
        this.d = e;
        this.g = t;
        this.a = n;
        this.f = r
    }(l, c, h, p);
    var v = s(),
        m, g = s();
    m = "unknown" !== g ? g : 2 === a.a || 4 === a.a ? "subpixel" : 1 === a.a ? r(a.f, new t(6, 0)) ? "subpixel" : 1 === a.d ? r(a.g, new t(7, 0)) ? "subpixel" : "grayscale" : "subpixel" : "unknown";
    var y = o.document.documentElement,
        b;
    if (1 === a.a) {
        var w, E;
        if (!(E = 2 === a.d)) {
            var S;
            (S = 4 === a.d) || (S = -1 === n(a.f, new t(6, 0)));
            E = S
        }
        if (E) {
            w = "gdi"
        } else {
            var x;
            if (r(a.f, new t(6, 0))) {
                var T;
                if (T = 1 === a.d) {
                    var N = a.g,
                        C = new t(8, 0);
                    T = 0 === n(N, C) || -1 === n(N, C)
                }
                x = T ? "gdi" : "directwrite"
            } else {
                x = "unknown"
            }
            w = x
        }
        b = w
    } else {
        b = 8 === a.a ? "directwrite" : 2 === a.a || 3 === a.a ? "coretext" : 5 === a.a || 4 === a.a || 6 === a.a || 7 === a.a || 9 === a.a ? "freetype" : "unknown"
    }
    e("tr-" + b);
    "unknown" === v && "unknown" !== m && (v += "-" + m);
    e("tr-aa-" + v)
})();
$(".mobile-nav").click(function(){
  $(".mobile-nav, .menu-bars, .bmenu").toggleClass("active");
});
var disqus_shortname = "ericlagergren";
(function() {
    var e = document.createElement("script");
    e.type = "text/javascript";
    e.async = true;
    e.src = "//" + disqus_shortname + ".disqus.com/embed.js";
    (document.getElementsByTagName("head")[0] || document.getElementsByTagName("body")[0]).appendChild(e)
})();
$(document).ready(function() {
    $("#note").click(function(e) {
        e.preventDefault();
        $("#note-body").slideToggle("slow")
    })
});
var hashTagActive = "";
$(".scroll").click(function(e) {
    if (hashTagActive != this.hash) {
        e.preventDefault();
        var t = 0;
        if ($(this.hash).offset().top > $(document).height() - $(window).height()) {
            t = $(document).height() - $(window).height()
        } else {
            t = $(this.hash).offset().top
        }
        $("html,body").animate({
            scrollTop: t
        }, 2e3, "swing");
        hashTagActive = this.hash
    }
});
! function() {
    function e() {
        return !!document.createElementNS && !! document.createElementNS("http://www.w3.org/2000/svg", "svg").createSVGRect
    }
    if (e()) document.documentElement.className += " svg"
}();
(function() {
var pageTitle = $('div.pageTitle').attr('id');
var pageAuthorTwitter = $('div.pageAuthorTwitter').attr('id');
var siteUrl = $('div.siteUrl').attr('id');
var pageUrl = $('div.pageUrl').attr('id');


if( /iPhone|iPad|iPod/i.test(navigator.userAgent) ) {
    $('a#twttr').attr('href', 'twitter://post?message=' + pageTitle + '%20via%20' + '@' + pageAuthorTwitter + '%20' + siteUrl + pageUrl);
    $('a#fb').attr('href', 'fb://publish/profile/me?text=' + pageTitle + '%20' + siteUrl + pageUrl);
    $('a#gplus').attr('href', 'gplus://share?url=' + siteUrl + pageUrl);
}})();
